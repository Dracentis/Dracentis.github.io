<!DOCTYPE html>
<html>
<head>
<title>Computational Physics Python Reference Guide</title>
</head>
<body>
<h1>This site is moving to <a href="https://dracentis.pythonanywhere.com/cmseref">dracentis.pythonanywhere.com/cmseref</a>.</h1>
<h1>Computational Physics Python Reference Guide</h1>
This is a website for reference when using odeint and Matplotlib for computational physics.

<h3>List of Useful imports:</h3>
<pre style='color:#000000;background:#f0f0f0;'><span style='color:#800000; font-weight:bold; '>import</span> numpy <span style='color:#800000; font-weight:bold; '>as</span> np
<span style='color:#800000; font-weight:bold; '>from</span> scipy<span style='color:#808030; '>.</span>integrate <span style='color:#800000; font-weight:bold; '>import</span> odeint
<span style='color:#800000; font-weight:bold; '>import</span> matplotlib<span style='color:#808030; '>.</span>pyplot <span style='color:#800000; font-weight:bold; '>as</span> plt
<span style='color:#44aadd; '>%</span>matplotlib inline
<span style='color:#800000; font-weight:bold; '>import</span> pandas <span style='color:#800000; font-weight:bold; '>as</span> pd
<span style='color:#800000; font-weight:bold; '>import</span> seaborn <span style='color:#800000; font-weight:bold; '>as</span> sns
<span style='color:#800000; font-weight:bold; '>import</span> random
<span style='color:#800000; font-weight:bold; '>from</span> scipy<span style='color:#808030; '>.</span>optimize <span style='color:#800000; font-weight:bold; '>import</span> curve_fit
</pre>
<h3>Example use of numpy to load data in comma seperated format:</h3>
<pre style='color:#000000;background:#f0f0f0;'>column1<span style='color:#808030; '>,</span> column2 <span style='color:#808030; '>=</span> np<span style='color:#808030; '>.</span>loadtxt<span style='color:#808030; '>(</span><span style='color:#0000e6; '>'data.csv'</span><span style='color:#808030; '>,</span> usecols <span style='color:#808030; '>=</span> <span style='color:#808030; '>(</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#808030; '>,</span> unpack<span style='color:#808030; '>=</span><span style='color:#074726; '>True</span><span style='color:#808030; '>,</span> skiprows <span style='color:#808030; '>=</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span> delimiter<span style='color:#808030; '>=</span><span style='color:#0000e6; '>','</span><span style='color:#808030; '>)</span>
</pre>
<h3>Example use of pandas to load data in comma seperated format:</h3>
<pre style='color:#000000;background:#f0f0f0;'>data_frame <span style='color:#808030; '>=</span> pd<span style='color:#808030; '>.</span>read_csv<span style='color:#808030; '>(</span><span style='color:#0000e6; '>'data.csv'</span><span style='color:#808030; '>,</span>encoding<span style='color:#808030; '>=</span><span style='color:#0000e6; '>'ISO-8859-1'</span><span style='color:#808030; '>)</span>
</pre>

<h3>Various Pandas functions:</h3>
<pre style='color:#000000;background:#f0f0f0;'><span style='color:#696969; '>#displays the top part of the dataframe</span>
data_frame<span style='color:#808030; '>.</span>head<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span>

<span style='color:#696969; '>#displays the bottom part of the dataframe</span>
data_frame<span style='color:#808030; '>.</span>tail<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span>

<span style='color:#696969; '>#displays various stats about the data frame</span>
data_frame<span style='color:#808030; '>.</span>describe<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span>

<span style='color:#696969; '>#a list of columns in the dataframe</span>
data_frame<span style='color:#808030; '>.</span>columns

<span style='color:#696969; '>#produces a histogram of a column</span>
data_frame<span style='color:#808030; '>[</span><span style='color:#0000e6; '>'col1'</span><span style='color:#808030; '>]</span><span style='color:#808030; '>.</span>plot<span style='color:#808030; '>.</span>hist<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span>

<span style='color:#696969; '>#produces a scatter plot of two columns</span>
data_frame<span style='color:#808030; '>.</span>plot<span style='color:#808030; '>.</span>scatter<span style='color:#808030; '>(</span>x<span style='color:#808030; '>=</span><span style='color:#0000e6; '>'col2'</span><span style='color:#808030; '>,</span>y<span style='color:#808030; '>=</span><span style='color:#0000e6; '>'col1'</span><span style='color:#808030; '>)</span>

<span style='color:#696969; '>#produces a boxplot of two columns</span>
data_frame<span style='color:#808030; '>.</span>boxplot<span style='color:#808030; '>(</span>column <span style='color:#808030; '>=</span> <span style='color:#808030; '>[</span><span style='color:#0000e6; '>'col1'</span><span style='color:#808030; '>,</span><span style='color:#0000e6; '>'col2'</span><span style='color:#808030; '>]</span><span style='color:#808030; '>)</span>
</pre>

<h3>Various Seaborn functions:</h3>
<pre style='color:#000000;background:#f0f0f0;'>sns<span style='color:#808030; '>.</span><span style='color:#400000; '>set</span><span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#696969; '>#Sets styling to seaborn</span>
sns<span style='color:#808030; '>.</span>reset_orig<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#696969; '>#Returns styling to default</span>

sns<span style='color:#808030; '>.</span>despine<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#696969; '>#Removes borders</span>

<span style='color:#696969; '>#List of various styles:</span>
sns<span style='color:#808030; '>.</span>set_style<span style='color:#808030; '>(</span><span style='color:#0000e6; '>"ticks"</span><span style='color:#808030; '>)</span>

<span style='color:#696969; '>#List of various contexts:</span>
sns<span style='color:#808030; '>.</span>set_context<span style='color:#808030; '>(</span><span style='color:#0000e6; '>"paper"</span><span style='color:#808030; '>)</span>
sns<span style='color:#808030; '>.</span>set_context<span style='color:#808030; '>(</span><span style='color:#0000e6; '>"talk"</span><span style='color:#808030; '>)</span>
sns<span style='color:#808030; '>.</span>set_context<span style='color:#808030; '>(</span><span style='color:#0000e6; '>"poster"</span><span style='color:#808030; '>)</span>
sns<span style='color:#808030; '>.</span>set_context<span style='color:#808030; '>(</span><span style='color:#0000e6; '>"notebook"</span><span style='color:#808030; '>)</span>

<span style='color:#696969; '>#Jointplot scatter</span>
sns<span style='color:#808030; '>.</span>jointplot<span style='color:#808030; '>(</span>data_frame<span style='color:#808030; '>[</span><span style='color:#0000e6; '>'col1'</span><span style='color:#808030; '>]</span><span style='color:#808030; '>,</span> data_frame<span style='color:#808030; '>[</span><span style='color:#0000e6; '>'col2'</span><span style='color:#808030; '>]</span><span style='color:#808030; '>,</span> kind<span style='color:#808030; '>=</span><span style='color:#0000e6; '>"reg"</span><span style='color:#808030; '>)</span>
</pre>

<h3>Example use of polyfit:</h3>
<pre style='color:#000000;background:#f0f0f0;'><span style='color:#696969; '>#Find the best parameters to fit our data</span>
parameters <span style='color:#808030; '>=</span> np<span style='color:#808030; '>.</span>polyfit<span style='color:#808030; '>(</span>x<span style='color:#808030; '>,</span> y<span style='color:#808030; '>,</span> <span style='color:#008c00; '>2</span><span style='color:#808030; '>)</span>

<span style='color:#696969; '>#Create a function from the parameters</span>
fit_function <span style='color:#808030; '>=</span> np<span style='color:#808030; '>.</span>poly1d<span style='color:#808030; '>(</span>parameters<span style='color:#808030; '>)</span>

<span style='color:#696969; '>#Use that function to calculate the values our fit line</span>
expected_y <span style='color:#808030; '>=</span> fit_function<span style='color:#808030; '>(</span>x<span style='color:#808030; '>)</span>

<span style='color:#696969; '>#Plot the original data and our fit line</span>
plt<span style='color:#808030; '>.</span>scatter<span style='color:#808030; '>(</span>x<span style='color:#808030; '>,</span> y<span style='color:#808030; '>,</span> label <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'data'</span><span style='color:#808030; '>)</span>
plt<span style='color:#808030; '>.</span>plot<span style='color:#808030; '>(</span>x<span style='color:#808030; '>,</span> expected_y<span style='color:#808030; '>,</span> color <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'orange'</span><span style='color:#808030; '>,</span> label <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'fit'</span><span style='color:#808030; '>)</span>
<img src="polyfit.png" width="432" height="288">
</pre>


<h3>Example use of curvefit:</h3>
<pre style='color:#000000;background:#f0f0f0;'><span style='color:#696969; '>#function that we will fit the data to</span>
<span style='color:#800000; font-weight:bold; '>def</span> curve_function<span style='color:#808030; '>(</span>x<span style='color:#808030; '>,</span> a<span style='color:#808030; '>,</span> b<span style='color:#808030; '>,</span> c<span style='color:#808030; '>)</span><span style='color:#808030; '>:</span>
    <span style='color:#800000; font-weight:bold; '>return</span> a <span style='color:#44aadd; '>*</span> np<span style='color:#808030; '>.</span>cos<span style='color:#808030; '>(</span>b <span style='color:#44aadd; '>*</span> x <span style='color:#44aadd; '>+</span> c<span style='color:#808030; '>)</span>

<span style='color:#696969; '>#use curve_fit to get the parameters for the function</span>
paramters<span style='color:#808030; '>,</span> matrix <span style='color:#808030; '>=</span> curve_fit<span style='color:#808030; '>(</span>curve_function<span style='color:#808030; '>,</span> x<span style='color:#808030; '>,</span> y<span style='color:#808030; '>)</span>

a <span style='color:#808030; '>=</span> paramters<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span>  <span style='color:#696969; '># get fitted a parameter</span>
b <span style='color:#808030; '>=</span> paramters<span style='color:#808030; '>[</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>]</span>  <span style='color:#696969; '># get fitted b parameter</span>
c <span style='color:#808030; '>=</span> paramters<span style='color:#808030; '>[</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>]</span>  <span style='color:#696969; '># get fitted c parameter</span>

<span style='color:#696969; '>#use our function to calculate the expected values of y</span>
y_expected <span style='color:#808030; '>=</span> curve_function<span style='color:#808030; '>(</span>x<span style='color:#808030; '>,</span> a<span style='color:#808030; '>,</span> b<span style='color:#808030; '>,</span> c<span style='color:#808030; '>)</span>

<span style='color:#696969; '># plot our data and fit line</span>
plt<span style='color:#808030; '>.</span>scatter<span style='color:#808030; '>(</span>x<span style='color:#808030; '>,</span> y<span style='color:#808030; '>,</span> label <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>"data"</span><span style='color:#808030; '>)</span>
plt<span style='color:#808030; '>.</span>plot<span style='color:#808030; '>(</span>x<span style='color:#808030; '>,</span> y_expected<span style='color:#808030; '>,</span> color <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>"orange"</span><span style='color:#808030; '>,</span> label <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>"fit"</span><span style='color:#808030; '>)</span>

<img src="curvefit.png" width="432" height="288">
</pre>


<h3>Example use of odeint:</h3>
Odeint allows you to solve differential equations in python.
<p>For example, if we have a system of variables X, Y, and Z with time derivatives:</p>
<p><img src="http://latex.codecogs.com/gif.latex?\frac{dX}{dt}=Y+at" border="0"/></p>
<p><img src="http://latex.codecogs.com/gif.latex?\frac{dY}{dt}=Z" border="0"/></p>
<p><img src="http://latex.codecogs.com/gif.latex?\frac{dZ}{dt}=b" border="0"/></p>
<p>where a and b are parameters for the derivatives.</p>
<p>We can use the following model to solve the equations:</p>
<pre style='color:#000000;background:#f0f0f0;'><span style='color:#800000; font-weight:bold; '>def</span> derivatives<span style='color:#808030; '>(</span>state<span style='color:#808030; '>,</span> time<span style='color:#808030; '>,</span> a<span style='color:#808030; '>,</span> b<span style='color:#808030; '>)</span><span style='color:#808030; '>:</span> <span style='color:#696969; '># Put the parameters here</span>
    
    X <span style='color:#808030; '>=</span> state<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span>
    Y <span style='color:#808030; '>=</span> state<span style='color:#808030; '>[</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>]</span>
    Z <span style='color:#808030; '>=</span> state<span style='color:#808030; '>[</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>]</span>
    
    dXdt <span style='color:#808030; '>=</span> Y <span style='color:#44aadd; '>+</span> a <span style='color:#44aadd; '>*</span> time <span style='color:#696969; '># Set the derivative equations here</span>
    dYdt <span style='color:#808030; '>=</span> Z
    dZdt <span style='color:#808030; '>=</span> b
    
    <span style='color:#800000; font-weight:bold; '>return</span> <span style='color:#808030; '>[</span>dXdt<span style='color:#808030; '>,</span> dYdt<span style='color:#808030; '>,</span> dZdt<span style='color:#808030; '>]</span>

a <span style='color:#808030; '>=</span> <span style='color:#008000; '>0.5</span> <span style='color:#696969; '># Set the values of your parameters here</span>
b <span style='color:#808030; '>=</span> <span style='color:#008c00; '>4</span><span style='color:#44aadd; '>/</span><span style='color:#008c00; '>3</span>

init <span style='color:#808030; '>=</span> <span style='color:#808030; '>[</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span><span style='color:#008000; '>.1</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>2</span><span style='color:#808030; '>]</span> <span style='color:#696969; '># Set the initial conditions here</span>
time <span style='color:#808030; '>=</span> np<span style='color:#808030; '>.</span>linspace<span style='color:#808030; '>(</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>50</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>500</span><span style='color:#808030; '>)</span> <span style='color:#696969; '># Set the time that you plan on integrating across</span>
<span style='color:#696969; '># For this example we will run from 0 to 50 with 500 intervals</span>

solution <span style='color:#808030; '>=</span> odeint<span style='color:#808030; '>(</span>derivatives<span style='color:#808030; '>,</span> init<span style='color:#808030; '>,</span> time<span style='color:#808030; '>,</span> args<span style='color:#808030; '>=</span><span style='color:#808030; '>(</span>a<span style='color:#808030; '>,</span> b<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#696969; '># Call odeint with the initial condition and parameters</span>

X <span style='color:#808030; '>=</span> solution<span style='color:#808030; '>[</span><span style='color:#808030; '>:</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span>
Y <span style='color:#808030; '>=</span> solution<span style='color:#808030; '>[</span><span style='color:#808030; '>:</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>]</span>
Z <span style='color:#808030; '>=</span> solution<span style='color:#808030; '>[</span><span style='color:#808030; '>:</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>2</span><span style='color:#808030; '>]</span>
</pre>
<!--Created using ToHtml.com on 2019-10-14 21:35:49 UTC -->
<h3>Example use of matplotlib:</h3>
<pre style='color:#000000;background:#f0f0f0;'>plt<span style='color:#808030; '>.</span>figure<span style='color:#808030; '>(</span><span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span> figsize<span style='color:#808030; '>=</span><span style='color:#808030; '>(</span><span style='color:#008c00; '>12</span><span style='color:#808030; '>,</span><span style='color:#008c00; '>7</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#696969; '># creates and sets the current figure with figure number 1</span>
<span style='color:#696969; '># change this '1' to a different number if you need more than one figure</span>

plt<span style='color:#808030; '>.</span>subplot<span style='color:#808030; '>(</span><span style='color:#008c00; '>224</span><span style='color:#808030; '>)</span> <span style='color:#696969; '># selects the fourth plot in a 2 by 2 grid of subplots</span>
<span style='color:#696969; '># this line is unnecessary if you only need to display one plot</span>

plt<span style='color:#808030; '>.</span>plot<span style='color:#808030; '>(</span>time<span style='color:#808030; '>,</span> X<span style='color:#808030; '>,</span> label<span style='color:#808030; '>=</span><span style='color:#0000e6; '>'x-values'</span><span style='color:#808030; '>)</span>
plt<span style='color:#808030; '>.</span>plot<span style='color:#808030; '>(</span>time<span style='color:#808030; '>,</span> Y<span style='color:#808030; '>,</span> label<span style='color:#808030; '>=</span><span style='color:#0000e6; '>'y-values'</span><span style='color:#808030; '>)</span>
plt<span style='color:#808030; '>.</span>plot<span style='color:#808030; '>(</span>time<span style='color:#808030; '>,</span> Z<span style='color:#808030; '>,</span> label<span style='color:#808030; '>=</span><span style='color:#0000e6; '>'z-values'</span><span style='color:#808030; '>)</span>
plt<span style='color:#808030; '>.</span>grid<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#696969; '># enables the grid</span>
plt<span style='color:#808030; '>.</span>legend<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#696969; '># enables the legend</span>
plt<span style='color:#808030; '>.</span>xlabel<span style='color:#808030; '>(</span><span style='color:#0000e6; '>'Time'</span><span style='color:#808030; '>)</span> <span style='color:#696969; '># creates a label for the x axis</span>
plt<span style='color:#808030; '>.</span>ylabel<span style='color:#808030; '>(</span><span style='color:#0000e6; '>'Calculated Values'</span><span style='color:#808030; '>)</span> <span style='color:#696969; '># creates a label for the </span>
plt<span style='color:#808030; '>.</span>title<span style='color:#808030; '>(</span><span style='color:#0000e6; '>'Example Title'</span><span style='color:#808030; '>)</span> <span style='color:#696969; '># adds a title for the whole plot</span>

plt<span style='color:#808030; '>.</span>tight_layout<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span> <span style='color:#696969; '># prevents the titles from overlapping</span>
plt<span style='color:#808030; '>.</span>savefig<span style='color:#808030; '>(</span><span style='color:#0000e6; '>"Example.png"</span><span style='color:#808030; '>)</span> <span style='color:#696969; '># saves the figure as an image</span>
<h5>Output:</h5>
<img src="Example.png" width="500" height="300">
<h5>Diagram of plt.subplot():</h5>
<img src="subplots.png" width="500" height="300">
</pre>

<h3>Example use of matshow:</h3>
<pre style='color:#000000;background:#f0f0f0;'>heatmap <span style='color:#808030; '>=</span> <span style='color:#808030; '>[</span><span style='color:#808030; '>]</span>
<span style='color:#800000; font-weight:bold; '>for</span> i in range<span style='color:#808030; '>(</span><span style='color:#008c00; '>100</span><span style='color:#808030; '>)</span><span style='color:#808030; '>:</span>
    heatmap<span style='color:#808030; '>.</span>append<span style='color:#808030; '>(</span><span style='color:#808030; '>[</span><span style='color:#808030; '>]</span><span style='color:#808030; '>)</span>
    <span style='color:#800000; font-weight:bold; '>for</span> j in range<span style='color:#808030; '>(</span><span style='color:#008c00; '>100</span><span style='color:#808030; '>)</span><span style='color:#808030; '>:</span>
        heatmap<span style='color:#808030; '>[</span>i<span style='color:#808030; '>]</span><span style='color:#808030; '>.</span>append<span style='color:#808030; '>(</span>i<span style='color:#797997; '>*j</span><span style='color:#808030; '>)</span>

plt<span style='color:#808030; '>.</span>matshow<span style='color:#808030; '>(</span>heatmap<span style='color:#808030; '>)</span>
</pre>

</body>
</html>